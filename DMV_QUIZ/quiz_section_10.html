<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMV Quiz</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --hover-color: #45a049;
            --incorrect-color: #f44336;
            --text-color: #333;
            --background-color: #f4f4f4;
        }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        .quiz-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: var(--text-color);
        }
        .question {
            margin-bottom: 20px;
        }
        .options {
            list-style-type: none;
            padding: 0;
        }
        .options li {
            margin-bottom: 10px;
        }
        .options label {
            display: block;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .options label:hover {
            background-color: #e0e0e0;
        }
        .options label.correct {
            background-color: var(--primary-color);
            color: white;
        }
        .options label.incorrect {
            background-color: var(--incorrect-color);
            color: white;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: var(--hover-color);
        }
        #result {
            text-align: center;
            font-weight: bold;
            margin-top: 20px;
        }
        #progress-bar {
            width: 100%;
            background-color: #ddd;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        #progress {
            width: 0;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        #score-tracker {
            text-align: right;
            font-weight: bold;
            margin-bottom: 10px;
        }
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .quiz-container {
                padding: 15px;
            }
            h1 {
                font-size: 24px;
            }
            .options label {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>DMV Quiz</h1>
        <div id="progress-bar"><div id="progress"></div></div>
        <div id="score-tracker">Question 1/5 | Score: 0</div>
        <div id="quiz"></div>
        <button id="submit">Submit Answer</button>
        <div id="result"></div>
    </div>

    <script>
        const quizData = [
			{
				question: "What should you do when driving on gravel or dirt roads?",
				options: ["Maintain the same speed as on paved roads", "Increase your speed to avoid sliding", "Reduce your speed and increase following distance"],
				correctAnswer: 2
			},
			{
				question: "How can dust on gravel roads affect driving?",
				options: ["It improves visibility", "It reduces traction and vision", "It has no effect on driving"],
				correctAnswer: 1
			},
			{
				question: "What should you do when approaching a narrow bridge on a rural road?",
				options: ["Slow down and be prepared to stop for oncoming traffic", "Speed up to cross before other vehicles arrive", "Stay in the middle of the road"],
				correctAnswer: 0
			},
			{
				question: "How should you drive on an open bridge with metal gratings or steel surfaces?",
				options: ["Speed up to increase traction", "Slow down and hold the steering wheel firmly", "Turn the steering wheel sharply"],
				correctAnswer: 1
			},
			{
				question: "What is recommended when driving in areas with blind corners, like wooded areas or tall crops?",
				options: ["Drive in the center of the road", "Slow down and be prepared to stop for hidden hazards", "Use high beams to see better"],
				correctAnswer: 1
			},
			{
				question: "What should you do when driving at night and an oncoming vehicle fails to dim its high beams?",
				options: ["Turn on your high beams in response", "Look toward the right edge of the road", "Flash your high beams repeatedly"],
				correctAnswer: 1
			},
			{
				question: "When should you use your high beams while driving at night?",
				options: ["Always, regardless of traffic conditions", "When there are no oncoming vehicles and visibility is poor", "When following another vehicle closely"],
				correctAnswer: 1
			},
			{
				question: "What is the danger of driving in flooded areas?",
				options: ["Your vehicle may gain speed uncontrollably", "As little as 6 inches of water can cause you to lose control", "The water can cool down your engine and improve performance"],
				correctAnswer: 1
			},
			{
				question: "If you encounter a flooded road, what is the safest action to take?",
				options: ["Drive through it slowly", "Turn around and find an alternate route", "Accelerate to clear the flooded section quickly"],
				correctAnswer: 1
			},
			{
				question: "What should you do if you begin hydroplaning?",
				options: ["Steer sharply to regain control", "Ease off the accelerator and steer straight", "Press the brake pedal firmly"],
				correctAnswer: 1
			},
			{
				question: "What is the appropriate speed when you canâ€™t see farther than 100 feet due to fog, rain, or snow?",
				options: ["20 mph", "30 mph", "40 mph"],
				correctAnswer: 1
			},
			{
				question: "How should you respond to strong crosswinds while driving?",
				options: ["Speed up to minimize the effects", "Slow down and keep a firm grip on the steering wheel", "Change lanes frequently"],
				correctAnswer: 1
			},
			{
				question: "What should you do if your vehicle stalls on railroad tracks and a train is approaching?",
				options: ["Stay in the vehicle and call for help", "Get out of the vehicle and run towards the train", "Get out of the vehicle and run away from the tracks at an angle"],
				correctAnswer: 2
			},
			{
				question: "When driving through a work zone, what should you do?",
				options: ["Speed up to pass through quickly", "Obey the posted speed limits and watch for workers and equipment", "Drive in the middle of the road"],
				correctAnswer: 1
			},
			{
				question: "What should you do if your vehicle starts to skid on ice?",
				options: ["Steer in the direction of the skid", "Steer in the opposite direction of the skid", "Press the brakes hard"],
				correctAnswer: 0
			},
			{
				question: "What is the purpose of a runaway ramp?",
				options: ["To allow vehicles to speed up safely", "For large vehicles that have lost control or experienced brake failure", "To allow emergency vehicles to pass"],
				correctAnswer: 1
			},
			{
				question: "What should you do when approaching an uncontrolled intersection on a rural road?",
				options: ["Speed up to cross before other vehicles", "Slow down and be prepared to stop", "Flash your lights to signal other vehicles"],
				correctAnswer: 1
			},
			{
				question: "How should you react when approaching a sharp curve on a rural road?",
				options: ["Speed up to clear the curve quickly", "Slow down before entering the curve", "Stay in the center of the road"],
				correctAnswer: 1
			},
			{
				question: "What should you avoid when driving in heavy rain or fog?",
				options: ["Using low beams", "Following other vehicles closely", "Using your windshield wipers"],
				correctAnswer: 1
			},
			{
				question: "What is the proper action when your tires lose traction and your vehicle begins to slide?",
				options: ["Brake hard to stop the vehicle", "Take your foot off the gas pedal and steer in the direction you want to go", "Accelerate to regain control"],
				correctAnswer: 1
			}
		];






        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];

        const quizElement = document.getElementById('quiz');
        const submitButton = document.getElementById('submit');
        const resultElement = document.getElementById('result');
        const scoreTrackerElement = document.getElementById('score-tracker');
        const progressElement = document.getElementById('progress');

        function loadQuestion() {
            if (currentQuestion < quizData.length) {
                const question = quizData[currentQuestion];
                let html = `<div class="question">
                    <h2>Question ${currentQuestion + 1}</h2>
                    <p>${question.question}</p>
                    <ul class="options">`;
                
                for (let i = 0; i < question.options.length; i++) {
                    html += `
                        <li>
                            <label>
                                <input type="radio" name="answer" value="${i}">
                                ${question.options[i]}
                            </label>
                        </li>`;
                }
                
                html += '</ul></div>';
                quizElement.innerHTML = html;
                updateProgressAndScore();

                // Reset button to "Submit Answer"
                submitButton.textContent = "Submit Answer";
                submitButton.onclick = submitAnswer;
            } else {
                showResult();
            }
        }

        function checkAnswer() {
			const selectedAnswer = document.querySelector('input[name="answer"]:checked');
			if (selectedAnswer) {
				const answer = parseInt(selectedAnswer.value);
				const correct = quizData[currentQuestion].correctAnswer === answer;

				userAnswers[currentQuestion] = answer;

				const labels = document.querySelectorAll('.options label');
				
				// Always highlight the correct answer in green
				labels[quizData[currentQuestion].correctAnswer].classList.add('correct');

				// If the selected answer is incorrect, highlight it in red
				if (!correct) {
					labels[answer].classList.add('incorrect');
				} else {
					// If the answer is correct, increment the score
					score++;
				}

				// Disable all radio buttons after submitting
				document.querySelectorAll('input[name="answer"]').forEach(input => input.disabled = true);

				// Change button text to "Next Question" after submission
				submitButton.textContent = "Next Question";
				submitButton.onclick = loadNextQuestion;

				// Update the score and progress after submitting
				updateProgressAndScore();
			} else {
				alert('Please select an answer');
			}
		}

		function updateProgressAndScore() {
			const progress = ((currentQuestion + 1) / quizData.length) * 100;
			progressElement.style.width = `${progress}%`;
			scoreTrackerElement.innerHTML = `Question ${currentQuestion + 1}/${quizData.length} | Score: ${score}`;
		}


        function retryQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            resultElement.innerHTML = '';
            quizElement.innerHTML = '';
            submitButton.style.display = 'block';
            loadQuestion();
        }

        function submitAnswer() {
			const selectedAnswer = document.querySelector('input[name="answer"]:checked');
			if (selectedAnswer) {
				const answer = parseInt(selectedAnswer.value);
				const correct = quizData[currentQuestion].correctAnswer === answer;

				userAnswers[currentQuestion] = answer;

				const labels = document.querySelectorAll('.options label');
				
				// Always highlight the correct answer in green
				labels[quizData[currentQuestion].correctAnswer].classList.add('correct');

				// If the selected answer is incorrect, highlight it in red
				if (!correct) {
					labels[answer].classList.add('incorrect');
				} else {
					// If the answer is correct, increment the score
					score++;
				}

				// Disable all radio buttons after submitting
				document.querySelectorAll('input[name="answer"]').forEach(input => input.disabled = true);

				// Change button text to "Next Question" after submission
				submitButton.textContent = "Next Question";
				submitButton.onclick = loadNextQuestion;

				// Update score and progress
				updateProgressAndScore();
			} else {
				alert('Please select an answer');
			}
		}

		function showResult() {
			// No need to recalculate score because it's already updated after each correct answer
			const percentage = (score / quizData.length) * 100;
			const passed = percentage >= 80;
			resultElement.innerHTML = `
				<h2>Quiz Results</h2>
				<p>You scored ${score} out of ${quizData.length}</p>
				<p>Percentage: ${percentage.toFixed(2)}%</p>
				<p>${passed ? 'Congratulations! You passed!' : 'Sorry, you did not pass. Keep studying and try again!'}</p>
				<button id="retry">Retry Quiz</button>
			`;
			submitButton.style.display = 'none';
			
			const retryButton = document.getElementById('retry');
			if (retryButton) {
				retryButton.addEventListener('click', retryQuiz);
			}
		}


        function loadNextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        // Start the quiz
        loadQuestion();
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMV Quiz</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --hover-color: #45a049;
            --incorrect-color: #f44336;
            --text-color: #333;
            --background-color: #f4f4f4;
        }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        .quiz-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: var(--text-color);
        }
        .question {
            margin-bottom: 20px;
        }
        .options {
            list-style-type: none;
            padding: 0;
        }
        .options li {
            margin-bottom: 10px;
        }
        .options label {
            display: block;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .options label:hover {
            background-color: #e0e0e0;
        }
        .options label.correct {
            background-color: var(--primary-color);
            color: white;
        }
        .options label.incorrect {
            background-color: var(--incorrect-color);
            color: white;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: var(--hover-color);
        }
        #result {
            text-align: center;
            font-weight: bold;
            margin-top: 20px;
        }
        #progress-bar {
            width: 100%;
            background-color: #ddd;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        #progress {
            width: 0;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        #score-tracker {
            text-align: right;
            font-weight: bold;
            margin-bottom: 10px;
        }
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .quiz-container {
                padding: 15px;
            }
            h1 {
                font-size: 24px;
            }
            .options label {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>DMV Quiz</h1>
        <div id="progress-bar"><div id="progress"></div></div>
        <div id="score-tracker">Question 1/5 | Score: 0</div>
        <div id="quiz"></div>
        <button id="submit">Submit Answer</button>
        <div id="result"></div>
    </div>

    <script>
        const quizData = [
			{
				question: "What are the three options you have to avoid a collision?",
				options: ["Brake, steer, or accelerate", "Honk, slow down, or swerve", "Reverse, accelerate, or signal"],
				correctAnswer: 0
			},
			{
				question: "If your vehicle has ABS (Anti-lock Braking System), how should you brake in an emergency?",
				options: ["Press the brake pedal and release it in quick intervals", "Press down hard and keep pressing the brake pedal", "Pump the brake pedal lightly"],
				correctAnswer: 1
			},
			{
				question: "How can you stop quickly without ABS?",
				options: ["Apply the brakes as hard as possible and steer", "Apply the brakes firmly, release if they lock, then reapply", "Pump the brakes rapidly"],
				correctAnswer: 1
			},
			{
				question: "When is it safer to accelerate to avoid a collision?",
				options: ["When a vehicle is about to hit you from the side or behind, and there is room in front", "When the brakes fail and you are approaching an intersection", "When driving in foggy conditions"],
				correctAnswer: 0
			},
			{
				question: "If your vehicle starts to skid, what should you do?",
				options: ["Steer in the direction you want the vehicle to go", "Slam on the brakes to stop immediately", "Accelerate out of the skid"],
				correctAnswer: 0
			},
			{
				question: "What is the best action to take if your brakes stop working?",
				options: ["Pump the brake pedal several times", "Shift into neutral immediately", "Turn off the engine"],
				correctAnswer: 0
			},
			{
				question: "In the event of a tire blowout, what should you NOT do?",
				options: ["Grip the steering wheel firmly", "Brake hard immediately", "Slow down gradually by taking your foot off the accelerator"],
				correctAnswer: 1
			},
			{
				question: "What should you do if your accelerator sticks?",
				options: ["Shift to neutral and apply the brakes", "Turn off the engine immediately", "Pull the emergency brake"],
				correctAnswer: 0
			},
			{
				question: "What is the first step to take if your vehicle stalls on the highway?",
				options: ["Turn on your hazard lights and attempt to restart the vehicle", "Immediately exit the vehicle", "Push the vehicle off the road"],
				correctAnswer: 0
			},
			{
				question: "When should you NOT swerve to avoid a collision?",
				options: ["When hitting a small animal", "When it puts you into oncoming traffic", "When you can safely brake instead"],
				correctAnswer: 1
			},
			{
				question: "What should you do to avoid a head-on collision if a vehicle is coming toward you in your lane?",
				options: ["Steer to the right", "Speed up to pass quickly", "Honk your horn and stay in your lane"],
				correctAnswer: 0
			},
			{
				question: "In a power failure situation, how should you control the vehicle?",
				options: ["Turn off the ignition and apply the brakes", "Shift to neutral, steer smoothly, and brake gently", "Pump the brakes to regain control"],
				correctAnswer: 1
			},
			{
				question: "What is the most important thing to do when your vehicle is disabled on the road?",
				options: ["Attempt to repair it immediately", "Signal your vehicleâ€™s presence with emergency flares or flashers", "Wait inside the vehicle without signaling"],
				correctAnswer: 1
			},
			{
				question: "What should you do if your headlights fail at night?",
				options: ["Pull off the road immediately and use emergency flashers", "Turn on your high beams", "Speed up to reach a well-lit area"],
				correctAnswer: 0
			},
			{
				question: "In which scenario should you attempt to drive through standing water?",
				options: ["If you are familiar with the road", "Only if the water appears shallow", "Never, as it can cause the vehicle to stall"],
				correctAnswer: 2
			},
			{
				question: "What should you do if your vehicle begins to hydroplane?",
				options: ["Slam on the brakes to regain traction", "Ease off the accelerator and steer straight", "Steer in the opposite direction of the skid"],
				correctAnswer: 1
			},
			{
				question: "What is the proper response when faced with glare from oncoming headlights at night?",
				options: ["Look toward the centerline of the road", "Keep your headlights on high beam", "Look toward the right edge of the road"],
				correctAnswer: 2
			},
			{
				question: "What should you do to avoid a rear-end collision if the vehicle behind you is tailgating?",
				options: ["Speed up to create more space", "Slow down to encourage the vehicle to pass", "Brake hard to scare the tailgater"],
				correctAnswer: 1
			},
			{
				question: "How should you avoid collisions with large animals on the road?",
				options: ["Swerve into oncoming traffic to avoid the animal", "Slow down and be prepared to stop", "Speed up to clear the area quickly"],
				correctAnswer: 1
			},
			{
				question: "What should you do if your windshield wipers fail in heavy rain?",
				options: ["Slow down, pull off the road, and turn on your emergency flashers", "Speed up to increase visibility", "Continue driving with your headlights on high beam"],
				correctAnswer: 0
			}
		];






        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];

        const quizElement = document.getElementById('quiz');
        const submitButton = document.getElementById('submit');
        const resultElement = document.getElementById('result');
        const scoreTrackerElement = document.getElementById('score-tracker');
        const progressElement = document.getElementById('progress');

        function loadQuestion() {
            if (currentQuestion < quizData.length) {
                const question = quizData[currentQuestion];
                let html = `<div class="question">
                    <h2>Question ${currentQuestion + 1}</h2>
                    <p>${question.question}</p>
                    <ul class="options">`;
                
                for (let i = 0; i < question.options.length; i++) {
                    html += `
                        <li>
                            <label>
                                <input type="radio" name="answer" value="${i}">
                                ${question.options[i]}
                            </label>
                        </li>`;
                }
                
                html += '</ul></div>';
                quizElement.innerHTML = html;
                updateProgressAndScore();

                // Reset button to "Submit Answer"
                submitButton.textContent = "Submit Answer";
                submitButton.onclick = submitAnswer;
            } else {
                showResult();
            }
        }

        function checkAnswer() {
			const selectedAnswer = document.querySelector('input[name="answer"]:checked');
			if (selectedAnswer) {
				const answer = parseInt(selectedAnswer.value);
				const correct = quizData[currentQuestion].correctAnswer === answer;

				userAnswers[currentQuestion] = answer;

				const labels = document.querySelectorAll('.options label');
				
				// Always highlight the correct answer in green
				labels[quizData[currentQuestion].correctAnswer].classList.add('correct');

				// If the selected answer is incorrect, highlight it in red
				if (!correct) {
					labels[answer].classList.add('incorrect');
				} else {
					// If the answer is correct, increment the score
					score++;
				}

				// Disable all radio buttons after submitting
				document.querySelectorAll('input[name="answer"]').forEach(input => input.disabled = true);

				// Change button text to "Next Question" after submission
				submitButton.textContent = "Next Question";
				submitButton.onclick = loadNextQuestion;

				// Update the score and progress after submitting
				updateProgressAndScore();
			} else {
				alert('Please select an answer');
			}
		}

		function updateProgressAndScore() {
			const progress = ((currentQuestion + 1) / quizData.length) * 100;
			progressElement.style.width = `${progress}%`;
			scoreTrackerElement.innerHTML = `Question ${currentQuestion + 1}/${quizData.length} | Score: ${score}`;
		}


        function retryQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            resultElement.innerHTML = '';
            quizElement.innerHTML = '';
            submitButton.style.display = 'block';
            loadQuestion();
        }

        function submitAnswer() {
			const selectedAnswer = document.querySelector('input[name="answer"]:checked');
			if (selectedAnswer) {
				const answer = parseInt(selectedAnswer.value);
				const correct = quizData[currentQuestion].correctAnswer === answer;

				userAnswers[currentQuestion] = answer;

				const labels = document.querySelectorAll('.options label');
				
				// Always highlight the correct answer in green
				labels[quizData[currentQuestion].correctAnswer].classList.add('correct');

				// If the selected answer is incorrect, highlight it in red
				if (!correct) {
					labels[answer].classList.add('incorrect');
				} else {
					// If the answer is correct, increment the score
					score++;
				}

				// Disable all radio buttons after submitting
				document.querySelectorAll('input[name="answer"]').forEach(input => input.disabled = true);

				// Change button text to "Next Question" after submission
				submitButton.textContent = "Next Question";
				submitButton.onclick = loadNextQuestion;

				// Update score and progress
				updateProgressAndScore();
			} else {
				alert('Please select an answer');
			}
		}

		function showResult() {
			// No need to recalculate score because it's already updated after each correct answer
			const percentage = (score / quizData.length) * 100;
			const passed = percentage >= 80;
			resultElement.innerHTML = `
				<h2>Quiz Results</h2>
				<p>You scored ${score} out of ${quizData.length}</p>
				<p>Percentage: ${percentage.toFixed(2)}%</p>
				<p>${passed ? 'Congratulations! You passed!' : 'Sorry, you did not pass. Keep studying and try again!'}</p>
				<button id="retry">Retry Quiz</button>
			`;
			submitButton.style.display = 'none';
			
			const retryButton = document.getElementById('retry');
			if (retryButton) {
				retryButton.addEventListener('click', retryQuiz);
			}
		}


        function loadNextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        // Start the quiz
        loadQuestion();
    </script>
</body>
</html>
